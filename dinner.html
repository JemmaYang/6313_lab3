<!DOCTYPE html>
<html lang="en">
    <title>Lab3 Assignment</title>
    <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1">

       <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
       <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
       <link href="https://fonts.googleapis.com/css?family=Domine" rel="stylesheet">
       <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
       <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>

       <link rel="stylesheet" href="style.css">
       <script src="main.js" type="text/javascript"></script>
    </head>
    <body>
          <div class="container">
             <div class="title">Janeâ€™s Diet Plan</div>

             <div class="row">
                <div class="col-sm-8" id="gameMain">
                   <table id="foods" >
                      <tr>
                        <td valign="bottom"><img id="sushi" class="items" src="images/sushi.png" draggable="true" ondragstart="drag(event)" ></td>
                        <td valign="bottom"><img id="coffee" class="items" src="images/coffee.png" draggable="true" ondragstart="drag(event)" ></td>
                        <td valign="bottom"><img id="salad" class="items" src="images/salad.png" draggable="true" ondragstart="drag(event)" ></td>
                        <td valign="bottom"><img id="burger" class="items" src="images/burger.png" draggable="true" ondragstart="drag(event)" ></td>
                        <td valign="bottom"><img id="cake" class="items" src="images/cake.png" draggable="true" ondragstart="drag(event)" ></td>
                      </tr>     
                   </table>

                   <table id="collactions" ondrop="drop02(event)" ondragover="allowDrop(event)" >
                       <tr>
                        <td></td>
                        <td></td>
                      </tr>
                   </table>
                </div>

                <div id="leftColumn" class="col-sm-4">
                     <div class="states">You can choose two foods for your dinner. Drag and drop foods to the plate.</div>
                     <a class="btn btn-info" role="button" onclick="result()">Selected</a>
                     <a href="dinner.html" class="btn btn-info" role="button">Cancle</a>
                     <div id="calorie" class="varibales">Calorie: 0.</div>
                     <div id="energy" class="varibales">Energy: 0.</div>
                </div>
             </div>
          </div>

    </body>
    <script type="text/javascript">
var calorie=parseInt(localStorage.getItem("calorie"));
var energy=parseInt(localStorage.getItem("energy"));
document.getElementById("calorie").innerHTML = "Calorie: " + calorie +".";
document.getElementById("energy").innerHTML = "Energy: " + energy +".";

// Three Distinct Outcomes
function result(){
  document.getElementById("leftColumn").innerHTML = "";
  //variables are modified by decision events throughout the same playthrough
  localStorage.setItem("calorie", calorie);
  localStorage.setItem("energy", energy);
  console.log("Calorie: "+ calorie +".");
   console.log("Energy: "+ energy +".");

  if (energy <= 500) {
         var resultState = document.createElement("div"); 
         var textState = document.createTextNode("Sorry, you have only got energy " + energy +", which is not enough for your body. You fainted in the evening.");
        resultState.setAttribute("class","states");
        resultState.appendChild(textState);
        document.getElementById("leftColumn").appendChild(resultState);

         var rePlayButtom = document.createElement("a");                  
         var textnode = document.createTextNode("Play Again.");
         rePlayButtom.setAttribute("href","breakfast.html"); 
         rePlayButtom.setAttribute("class","btn btn-info");  
         rePlayButtom.setAttribute("role","button");         
         rePlayButtom.appendChild(textnode);                              
         document.getElementById("leftColumn").appendChild(rePlayButtom);
         
   }

   else if (calorie > 1400){
        var resultState = document.createElement("div"); 
        var textState = document.createTextNode("You have eaten too much. Calorie is " + calorie + ". These foods would make you gain weight.");
        resultState.setAttribute("class","states");
        resultState.appendChild(textState);
        document.getElementById("leftColumn").appendChild(resultState);

         var rePlayButtom = document.createElement("a");                  
         var textnode = document.createTextNode("Play Again.");
         rePlayButtom.setAttribute("href","breakfast.html"); 
         rePlayButtom.setAttribute("class","btn btn-info");  
         rePlayButtom.setAttribute("role","button");         
         rePlayButtom.appendChild(textnode);                              
         document.getElementById("leftColumn").appendChild(rePlayButtom);
         
   }

  else  {
         var resultState = document.createElement("div"); 
        var textState = document.createTextNode("You made samrt choices of your diets. You eat healthy and energetic. Enjoy the day.");
        resultState.setAttribute("class","states");
        resultState.appendChild(textState);
        document.getElementById("leftColumn").appendChild(resultState);

   }
}   

    </script>
</html>